import vm/translator;
import vm/vm;

main() {
    s = getFileContent("tests/ifelse/ifelse.nemo");
    nemoProg = str2nemoProg(s);
    switch (nemoProg: Maybe<NemoProg>) {
        Some(pr): {
            vnemoProg = VnemoProg(nemoDecls2VnemoDecls(pr.decls), nemoOpers2VnemoOpers(pr.operators));
            setFileContent("tests/ifelse/ifelse.vnemo", vnemoProg2str(vnemoProg));
            exec(vnemoProg);
            quit(0);
        };
        None(): {
            println("None");
            quit(1);
        }
    }
}